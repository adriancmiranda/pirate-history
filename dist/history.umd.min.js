/*!
 * 
 * ~~~~ pirate-history v0.0.1
 * 
 * @moment Tuesday, July 11, 2017 1:46 AM
 * @commit 05127b26388a9df84066ca775e5841842d258ea9
 * @homepage https://github.com/adriancmiranda/pirate-history
 * @author Adrian C. Miranda */
!(function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.history=e()})(this,(function(){"use strict";function t(t,e){return new RegExp("("+t+")").test(toString.call(e))}function e(t,e){var n={type:t},r=Object.assign({bubbles:!1,cancelable:!1},e);return document.createEvent?((n=document.createEvent("HTMLEvents")).initEvent(t,r.bubbles,r.cancelable),n.detail=r.detail,n):(document.createEventObject&&((n=document.createEventObject()).eventType=t,n.type=t),Object.assign(n,r))}function n(t,e,n){if(t.addEventListener){for(var r=arguments.length,o=Array(r>3?r-3:0),i=3;i<r;i++)o[i-3]=arguments[i];t.addEventListener.apply(t,[e,n].concat(o))}else t.attachEvent&&window.htmlEvents["on"+e]?t.attachEvent("on"+e,n):t["on"+e]=n}function r(t,e,n){if(t.removeEventListener){for(var r=arguments.length,o=Array(r>3?r-3:0),i=3;i<r;i++)o[i-3]=arguments[i];t.removeEventListener.apply(t,[e,n].concat(o))}else t.detachEvent&&window.htmlEvents["on"+e]?t.detachEvent("on"+e,n):t["on"+e]=null}function o(t,n,r){var o=void 0,i=e(n,r);return t.dispatchEvent?o=t.dispatchEvent(i):t.fireEvent&&window.htmlEvents["on"+i.type]?o=t.fireEvent("on"+i.type,i):t["on"+i.type]&&(o=t["on"+i.type](i)),void 0===o||o}function i(e,n,r){for(var i=!1,a=arguments.length,c=String(n).split(" "),u=c.length,f=t("String",e),s=0;s<u;s+=1){var p=c[s];if(a<=1||f){for(var h=[],l=g.length-1;l>=0;l-=1){var d=g[l],v=a?e:d.type;h.push(o(d.domEl,v,r))}return h}o(e,p,r)&&(i=!0)}return i}function a(t,e,r){for(var o=String(e).split(" "),i=arguments.length,a=Array(i>3?i-3:0),c=3;c<i;c++)a[c-3]=arguments[c];for(var u=o.length-1;u>=0;u-=1){for(var f=o[u],s=g.length-1;s>=0;s-=1){var p=g[s];if(p.type===f&&p.listener===r)return}n.apply(v,[t,f,r].concat(a)),g.push({domEl:t,type:f,listener:r})}}function c(e,n,o){for(var i=arguments.length,a=Array(i>3?i-3:0),c=3;c<i;c++)a[c-3]=arguments[c];for(var u=String(n).split(" "),f=arguments.length,s=t("String",e),p=u.length-1;p>=0;p-=1)for(var h=u[p],l=s?e:h,d=g.length-1;d>=0;d-=1){var y=g[d],w=f<=1,E=f>1&&y.type===l,b=f>2&&y.listener===o&&E;w?(y.type=s?l:y.type,r.apply(v,[y.domEl,y.type,y.listener].concat(a)),g.splice(d,1)):(E||b)&&(r.apply(v,[e,l,y.listener].concat(a)),g.splice(d,1))}}function u(t,e,n){for(var r=arguments.length,o=Array(r>3?r-3:0),i=3;i<r;i++)o[i-3]=arguments[i];a.apply(void 0,[t,e,function r(i){c.apply(void 0,[t,e,r].concat(o)),n(i)}].concat(o))}function f(t){for(var e=String(t).split(" "),n=e.length-1;n>=0;n-=1)for(var r=e[n],o=g.length-1;o>=0;o-=1)if(g[o].type===r)return!0;return!1}function s(t){var e=w.indexOf("CriOS")>-1;return void 0!==t.state||e}function p(t,e){Object.defineProperty(e,"currentTarget",{get:function(){return y}}),"function"==typeof t&&t.call(y,e)}function h(t,e){p(t,e),y.emit(E,e)}function l(t){return function(e){s(e)&&h(t,e)}}function d(t){return function(){h(t,y)}}var v=Object.freeze({createEvent:e,addEventListener:n,removeEventListener:r,dispatchEvent:o}),g=[],y={},w=navigator.userAgent,E="changestate";return Object.defineProperty(y,"onhashchange",{set:function(t){t||y.off("hashchange"),y.on("hashchange",d(t))},get:function(){return window.onhashchange}}),Object.defineProperty(y,"onpopstate",{set:function(t){t||y.off("popstate"),y.on("popstate",l(t))},get:function(){return window.onpopstate}}),Object.defineProperty(y,"length",{set:function(t){window.history.length=t},get:function(){return window.history.length}}),Object.defineProperty(y,"state",{get:function(){var t={};try{return window.history.state||t}catch(e){return t}}}),Object.defineProperty(y,"hasStateList",{get:function(){return/Chrome|Windows\sPhone/.test(w)&&!/Mobile\sSafari|Android\s(2\..+|4\.0)/g.test(w)&&window.history&&"pushState"in window.history}}),Object.defineProperty(y,"HashChangeEvent",{get:function(){return"hashchange"}}),Object.defineProperty(y,"HashChangeHook",{get:function(){return"onhashchange"}}),Object.defineProperty(y,"PopStateEvent",{get:function(){return"popstate"}}),Object.defineProperty(y,"PopStateHook",{get:function(){return"onpopstate"}}),Object.defineProperty(y,"ReplaceStateEvent",{get:function(){return"replacestate"}}),Object.defineProperty(y,"ChangeStateEvent",{get:function(){return E}}),Object.defineProperty(y,"PushStateEvent",{get:function(){return"pushstate"}}),y.on=function(t,e,n){a(window,t,e,n)},y.one=function(t,e,n){return u(window,t,e,n)},y.off=function(t,e,n){c(window,event.type,event.listener,n)},y.emit=function(t,e){return i(window,t,{bubbles:!0,cancelable:!0,detail:{state:e}})},y.willEmit=function(t){return f(t)},y.pushState=function(t,e,n){var r=window.history.pushState(t,e,n);return y.emit("pushstate",t),y.emit(E,t),r},y.replaceState=function(t,e,n){var r=window.history.replaceState(t,e,n);return y.emit("replacestate",t),y.emit(E,t),r},y.go=function(t){return window.history.go(t)},y.forward=function(){return window.history.forward()},y.back=function(){return window.history.back()},y}));
//# sourceMappingURL=history.umd.min.js.map
