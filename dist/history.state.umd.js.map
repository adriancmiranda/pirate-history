{"version":3,"file":"history.state.umd.js","sources":["../source/browser/events/polyfill.js","../source/common/escape-reg-exp.js","../source/browser/querystring/parse.js","../source/common/to-int.js","../source/common/is.js","../source/browser/path/is-absolute.js","../source/browser/path/anchor.js","../source/browser/path/normalize.js","../source/browser/path/parse.js","../source/browser/history/state.js"],"sourcesContent":["/**\n * Browser events polyfill\n * @module browser/events/polyfill\n */\n\n/**\n * @name createEvent\n *\n * @description\n * Creates an event of the type specified. The returned object should be first\n * initialized and can then be passed to `element.dispatchEvent`.\n *\n * @param {String} type The type is the name of Event object to be dispatched.\n * Possible event types include \"UIEvents\", \"MouseEvents\", \"MutationEvents\",\n * and \"HTMLEvents\".\n *\n * @api public\n`*/\nexport function createEvent(type, options) {\n\tlet event = { type };\n\tconst opts = Object.assign({ bubbles: false, cancelable: false }, options);\n\tif (document.createEvent) {\n\t\tevent = document.createEvent('HTMLEvents');\n\t\tevent.initEvent(type, opts.bubbles, opts.cancelable);\n\t\tevent.detail = opts.detail;\n\t\treturn event;\n\t} else if (document.createEventObject) {\n\t\tevent = document.createEventObject();\n\t\tevent.eventType = type;\n\t\tevent.type = type;\n\t}\n\treturn Object.assign(event, opts);\n}\n\n/**\n * @name addEventListener\n *\n * @description\n * The EventTarget.addEventListener() method adds the specified EventListener-compatible\n * object to the list of event listeners for the specified event type on the EventTarget\n * on which it's called. The event target may be an Element in a document, the Document\n * itself, a Window, or any other object that supports events (such as XMLHttpRequest).\n *\n * @param {HTMLElement} domEl The target object for events dispatched to the EventTarget object.\n *\n * @param {String} type The type is the name of Event object to be dispatched.\n *\n * @param {Function} listener The listener function that processes the event.\n * This function must accept an Event object as its only parameter and must return nothing.\n *\n * @param {Object} options An options object that specifies characteristics about the event\n * listener.\n *\n * @param {Boolean} useCapture Determines whether the listener works in the capture phase or\n * the target and bubbling phases. If useCapture is set to true, the listener processes the\n * event only during the capture phase and not in the target or bubbling phase.\n * If useCapture is false, the listener processes the event only during the target or bubbling\n * phase.\n * To listen for the event in all three phases, call addEventListener twice, once\n * with useCapture set to true, then again with useCapture set to false.\n *\n * @api public\n`*/\nexport function addEventListener(domEl, type, listener, ...options) {\n\tif (domEl.addEventListener) {\n\t\tdomEl.addEventListener(type, listener, ...options);\n\t} else if (domEl.attachEvent && window.htmlEvents[`on${type}`]) {\n\t\tdomEl.attachEvent(`on${type}`, listener);\n\t} else {\n\t\tdomEl[`on${type}`] = listener;\n\t}\n}\n\n/**\n * @name removeEventListener\n *\n * @description\n * The EventTarget.removeEventListener() method removes from the EventTarget an event\n * listener previously registered with EventTarget.addEventListener(). The event\n * listener to be removed is identified using a combination of the event type, the\n * event listener function itself, and various optional options that may affect the\n * matching process; see Matching event listeners for removal.\n *\n * @param {HTMLElement} domEl The target object for events dispatched to the EventTarget object.\n *\n * @param {String} type The type is the name of Event object to be dispatched.\n *\n * @param {Function} listener The listener function that processes the event.\n * This function must accept an Event object as its only parameter and must return nothing.\n *\n * @param {Object} options An options object that specifies characteristics about the event\n * listener.\n *\n * @param {Boolean} useCapture Determines whether the listener works in the capture phase or\n * the target and bubbling phases. If useCapture is set to true, the listener processes the\n * event only during the capture phase and not in the target or bubbling phase.\n * If useCapture is false, the listener processes the event only during the target or\n * bubbling phase.\n * To listen for the event in all three phases, call addEventListener twice, once with useCapture\n * set to true, then again with useCapture set to false.\n *\n * @api public\n`*/\nexport function removeEventListener(domEl, type, listener, ...options) {\n\tif (domEl.removeEventListener) {\n\t\tdomEl.removeEventListener(type, listener, ...options);\n\t} else if (domEl.detachEvent && window.htmlEvents[`on${type}`]) {\n\t\tdomEl.detachEvent(`on${type}`, listener);\n\t} else {\n\t\tdomEl[`on${type}`] = null;\n\t}\n}\n\n/**\n * @name dispatchEvent\n *\n * @description\n * Dispatches an Event at the specified EventTarget, invoking the affected EventListeners\n * in the appropriate order. The normal event processing rules (including the capturing\n * and optional bubbling phase) also apply to events dispatched manually with\n * dispatchEvent().\n *\n * @param {HTMLElement} domEl The target object for events dispatched to the EventTarget object.\n *\n * @param {String} type The type is the name of Event object to be dispatched.\n *\n * @param {Mixed} options\n *\n * @returns {Boolean} cancelled Indicating whether the event was canceled\n * by an event handler.\n *\n * @api public\n`*/\nexport function dispatchEvent(domEl, type, options) {\n\tlet cancelled;\n\tconst event = createEvent(type, options);\n\tif (domEl.dispatchEvent) {\n\t\tcancelled = domEl.dispatchEvent(event);\n\t} else if (domEl.fireEvent && window.htmlEvents[`on${event.type}`]) {\n\t\tcancelled = domEl.fireEvent(`on${event.type}`, event);\n\t} else if (domEl[`on${event.type}`]) {\n\t\tcancelled = domEl[`on${event.type}`](event);\n\t}\n\treturn typeof cancelled === 'undefined' || cancelled;\n}\n","/**\n * @name escapeRegExp\n *\n * @return {String}\n *\n * @private\n`*/\nexport default function escapeRegExp(rule) {\n\treturn String(rule).replace(/[-[\\]{}()*+?.,\\\\^$|#\\s]/g, '\\\\$&');\n}\n","import escapeRegExp from '../../common/escape-reg-exp';\n\n/**\n * @name parse\n *\n * @description\n *\n * @api public\n`*/\nexport default function parse(query, sep = '&', eq = '=') {\n\tconst searchParams = {};\n\tconst rule = `([^?${eq}${sep}]+)(${escapeRegExp(eq)}([^${sep}]*))?`;\n\tconst pattern = new RegExp(rule, 'g');\n\tString(query).replace(pattern, ($0, $1, $2, $3) => {\n\t\tsearchParams[$1] = $3;\n\t});\n\treturn searchParams;\n}\n","/**\n * @name toInt\n *\n * @return {Number}\n *\n * @private\n`*/\nexport default function toInt(value) {\n\treturn 0 | parseInt(value, 10); // eslint-disable-line no-bitwise\n}\n","/**\n * @name is\n *\n * @description\n * Test if `value` is a type of `type`.\n *\n * @param {Mixed} value value to test.\n * @param {String} expectedType type waited.\n *\n * @return {Boolean} true if `value` is a type of `type`, false otherwise.\n *\n * @private\n`*/\nexport default function is(expected, value) {\n\treturn new RegExp(`(${expected})`).test(toString.call(value));\n}\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\nimport is from '../../common/is';\n\nexport default function isAbsolute(path) {\n\tif (is('String', path)) {\n\t\tconst len = path.length;\n\t\tif (len === 0) return false;\n\t\tlet code = path.charCodeAt(0);\n\t\tif (code === 47/* / */ || code === 92/* \\ */) {\n\t\t\treturn true;\n\t\t} else if (\n\t\t\t(code >= 65/* A */ && code <= 90/* Z */) ||\n\t\t\t(code >= 97/* a */ && code <= 122/* z */)) {\n\t\t\tif (len > 2 && path.charCodeAt(1) === 58/* : */) {\n\t\t\t\tcode = path.charCodeAt(2);\n\t\t\t\tif (code === 47/* / */ || code === 92/* \\ */) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\treturn false;\n}\n","export default document.createElement('a');\n","import isAbsolute from './is-absolute';\nimport $a from './anchor';\n\nexport default function normalize(href, baseUrlObject) {\n\tif (isAbsolute(Object(baseUrlObject).href)) {\n\t\thref = `${baseUrlObject.href}/${href}`;\n\t}\n\tif (document.documentMode) {\n\t\t$a.setAttribute('href', href);\n\t\treturn $a.href;\n\t}\n\treturn href;\n}\n","import parseQuery from '../querystring/parse';\nimport toInt from '../../common/to-int';\nimport is from '../../common/is';\nimport normalize from './normalize';\nimport $a from './anchor';\n\nconst DEFAULT_PORTS = { http: 80, https: 443, ftp: 21, gopher: 70 };\n\nexport default function parse(href, baseUrlObject, defaultPorts = DEFAULT_PORTS) {\n\tconst info = {};\n\tif (is('Function', href)) {\n\t\thref = href(baseUrlObject, defaultPorts);\n\t}\n\tif (is('URL', href) && href.href) {\n\t\treturn parse(href.href);\n\t}\n\tif (!is('String', href)) {\n\t\tconst base = document.getElementsByTagName('base')[0];\n\t\thref = (base && base.getAttribute('href')) || window.location.href;\n\t}\n\t$a.setAttribute('href', normalize(href, baseUrlObject));\n\tinfo.pathname = $a.pathname.charAt(0) === '/' ? $a.pathname : `/${$a.pathname}`;\n\tinfo.protocol = $a.protocol ? $a.protocol.replace(/:$/, '') : '';\n\tinfo.search = $a.search ? $a.search.replace(/^\\?/, '') : '';\n\tinfo.searchParams = parseQuery(info.search);\n\tinfo.hash = $a.hash ? $a.hash.replace(/^#!?/, '') : '';\n\tinfo.port = toInt($a.port) || defaultPorts[info.protocol] || null;\n\tinfo.username = $a.username || undefined;\n\tinfo.password = $a.password || undefined;\n\tinfo.hostname = $a.hostname;\n\tinfo.origin = $a.origin;\n\tinfo.host = $a.host;\n\tinfo.href = $a.href;\n\treturn info;\n}\n","import * as dispatcher from '../events/polyfill';\nimport parsePath from '../path/parse';\nimport toInt from '../../common/to-int';\nimport is from '../../common/is';\n\nexport const HashChangeEvent = 'hashchange';\nexport const HashChangeHook = `on${HashChangeEvent}`;\nexport const PopStateEvent = 'popstate';\nexport const PopStateHook = `on${PopStateEvent}`;\nexport const ReplaceStateEvent = 'replacestate';\nexport const ChangeStateEvent = 'changestate';\nexport const PushStateEvent = 'pushstate';\n\n/**\n * @name ua\n *\n * @description\n *\n * @private\n`*/\nconst ua = window.navigator.userAgent;\n\n/**\n * @name native\n *\n * @description\n *\n * @api public\n`*/\nexport const native = window.history;\n\n/**\n * @name hasStateList\n *\n * @description\n *\n * @return {Boolean}\n *\n * @see http://caniuse.com/#search=history\n *\n * @api public\n`*/\nexport const hasStateList = 'pushState' in Object(native) &&\n\t!/Android\\s(2\\..+|4\\.0)|Mobile\\sSafari/gi.test(ua) &&\n\t/Windows\\sPhone|Chrome/gi.test(ua)\n;\n\n/**\n * @name updateStateList\n *\n * @description\n *\n * @private\n`*/\nfunction updateStateList(URL, put) {\n\tput(parsePath(URL)); // @TODO: storage\n}\n\n/**\n * @name pushState\n *\n * @description\n *\n * @api public\n`*/\nexport function pushState(state, title, URL) {\n\treturn updateStateList(URL, () => {\n\t\tnative.pushState(state, title, URL);\n\t\tdispatcher.dispatchEvent(window, PushStateEvent, { state, title, URL });\n\t\tdispatcher.dispatchEvent(window, ChangeStateEvent, { state, title, URL });\n\t});\n}\n\n/**\n * @name replaceState\n *\n * @description\n *\n * @api public\n`*/\nexport function replaceState(state, title, URL) {\n\treturn updateStateList(URL, () => {\n\t\tnative.replaceState(state, title, URL);\n\t\tdispatcher.dispatchEvent(window, ReplaceStateEvent, { state, title, URL });\n\t\tdispatcher.dispatchEvent(window, ChangeStateEvent, { state, title, URL });\n\t});\n}\n\n/**\n * @name go\n *\n * @description\n *\n * @api public\n`*/\nexport function go(factor) {\n\treturn native.go(factor);\n}\n\n/**\n * @name forward\n *\n * @description\n *\n * @api public\n`*/\nexport function forward() {\n\treturn native.forward();\n}\n\n/**\n * @name back\n *\n * @description\n *\n * @api public\n`*/\nexport function back() {\n\treturn native.back();\n}\n\n/**\n * @name length\n *\n * @description\n *\n * @api public\n`*/\nexport function length() {\n\treturn toInt(native.length);\n}\n\n/**\n * @name state\n *\n * @description\n *\n * @api public\n`*/\nexport function $state() {\n\tconst info = {};\n\ttry {\n\t\treturn native.state || info;\n\t} catch (err) { return info; }\n}\n\n/**\n * @name title\n *\n * @description\n *\n * @api public\n`*/\nexport function $title(val) {\n\tif (is('Function', val)) {\n\t\tval = val(document.title);\n\t}\n\tif (is('String', val)) {\n\t\tdocument.title = val;\n\t}\n\treturn document.title;\n}\n\n/**\n * @name location\n *\n * @description\n *\n * @api public\n`*/\nexport function location(val) {\n\tif (val) return parsePath(val);\n\treturn parsePath(window.location.href);\n}\n"],"names":["createEvent","type","options","event","opts","Object","assign","bubbles","cancelable","document","initEvent","detail","createEventObject","eventType","dispatchEvent","domEl","cancelled","fireEvent","window","htmlEvents","escapeRegExp","rule","String","replace","parse","query","sep","eq","searchParams","pattern","RegExp","$0","$1","$2","$3","toInt","value","parseInt","is","expected","test","toString","call","isAbsolute","path","len","length","code","charCodeAt","createElement","normalize","href","baseUrlObject","documentMode","$a","setAttribute","DEFAULT_PORTS","http","https","ftp","gopher","defaultPorts","info","base","getElementsByTagName","getAttribute","location","pathname","charAt","protocol","search","parseQuery","hash","port","username","undefined","password","hostname","origin","host","HashChangeEvent","HashChangeHook","PopStateEvent","PopStateHook","ReplaceStateEvent","ChangeStateEvent","PushStateEvent","ua","navigator","userAgent","native","history","hasStateList","updateStateList","URL","put","parsePath","pushState","state","title","dispatcher","replaceState","go","factor","forward","back","$state","err","$title","val"],"mappings":";;;;;;;;;;;;;;;;;;;;CAkBO,SAASA,WAAT,CAAqBC,IAArB,EAA2BC,OAA3B,EAAoC;CAC1C,MAAIC,QAAQ,EAAEF,UAAF,EAAZ;CACA,MAAMG,OAAOC,OAAOC,MAAP,CAAc,EAAEC,SAAS,KAAX,EAAkBC,YAAY,KAA9B,EAAd,EAAqDN,OAArD,CAAb;CACA,MAAIO,SAAST,WAAb,EAA0B;CACzBG,YAAQM,SAAST,WAAT,CAAqB,YAArB,CAAR;CACAG,UAAMO,SAAN,CAAgBT,IAAhB,EAAsBG,KAAKG,OAA3B,EAAoCH,KAAKI,UAAzC;CACAL,UAAMQ,MAAN,GAAeP,KAAKO,MAApB;CACA,WAAOR,KAAP;CACA,GALD,MAKO,IAAIM,SAASG,iBAAb,EAAgC;CACtCT,YAAQM,SAASG,iBAAT,EAAR;CACAT,UAAMU,SAAN,GAAkBZ,IAAlB;CACAE,UAAMF,IAAN,GAAaA,IAAb;CACA;CACD,SAAOI,OAAOC,MAAP,CAAcH,KAAd,EAAqBC,IAArB,CAAP;CACA;;AA+BD;;AAwCA;;AA8BA,CAAO,SAASU,aAAT,CAAuBC,KAAvB,EAA8Bd,IAA9B,EAAoCC,OAApC,EAA6C;CACnD,MAAIc,kBAAJ;CACA,MAAMb,QAAQH,YAAYC,IAAZ,EAAkBC,OAAlB,CAAd;CACA,MAAIa,MAAMD,aAAV,EAAyB;CACxBE,gBAAYD,MAAMD,aAAN,CAAoBX,KAApB,CAAZ;CACA,GAFD,MAEO,IAAIY,MAAME,SAAN,IAAmBC,OAAOC,UAAP,QAAuBhB,MAAMF,IAA7B,CAAvB,EAA6D;CACnEe,gBAAYD,MAAME,SAAN,QAAqBd,MAAMF,IAA3B,EAAmCE,KAAnC,CAAZ;CACA,GAFM,MAEA,IAAIY,aAAWZ,MAAMF,IAAjB,CAAJ,EAA8B;CACpCe,gBAAYD,aAAWZ,MAAMF,IAAjB,EAAyBE,KAAzB,CAAZ;CACA;CACD,SAAO,OAAOa,SAAP,KAAqB,WAArB,IAAoCA,SAA3C;CACA;;CCzIc,SAASI,YAAT,CAAsBC,IAAtB,EAA4B;CAC1C,SAAOC,OAAOD,IAAP,EAAaE,OAAb,CAAqB,0BAArB,EAAiD,MAAjD,CAAP;CACA;;CCAc,SAASC,OAAT,CAAeC,KAAf,EAA2C;CAAA,KAArBC,GAAqB,uEAAf,GAAe;CAAA,KAAVC,EAAU,uEAAL,GAAK;;CACzD,KAAMC,eAAe,EAArB;CACA,KAAMP,gBAAcM,EAAd,GAAmBD,GAAnB,YAA6BN,aAAaO,EAAb,CAA7B,WAAmDD,GAAnD,UAAN;CACA,KAAMG,UAAU,IAAIC,MAAJ,CAAWT,IAAX,EAAiB,GAAjB,CAAhB;CACAC,QAAOG,KAAP,EAAcF,OAAd,CAAsBM,OAAtB,EAA+B,UAACE,EAAD,EAAKC,EAAL,EAASC,EAAT,EAAaC,EAAb,EAAoB;CAClDN,eAAaI,EAAb,IAAmBE,EAAnB;CACA,EAFD;CAGA,QAAON,YAAP;CACA;;CCVc,SAASO,KAAT,CAAeC,KAAf,EAAsB;CACpC,SAAO,IAAIC,SAASD,KAAT,EAAgB,EAAhB,CAAX;CACA;;CCIc,SAASE,EAAT,CAAYC,QAAZ,EAAsBH,KAAtB,EAA6B;CAC3C,SAAO,IAAIN,MAAJ,OAAeS,QAAf,QAA4BC,IAA5B,CAAiCC,SAASC,IAAT,CAAcN,KAAd,CAAjC,CAAP;CACA;;CCQc,SAASO,UAAT,CAAoBC,IAApB,EAA0B;CACxC,KAAIN,GAAG,QAAH,EAAaM,IAAb,CAAJ,EAAwB;CACvB,MAAMC,MAAMD,KAAKE,MAAjB;CACA,MAAID,QAAQ,CAAZ,EAAe,OAAO,KAAP;CACf,MAAIE,OAAOH,KAAKI,UAAL,CAAgB,CAAhB,CAAX;CACA,MAAID,SAAS,EAAT,IAAsBA,SAAS,EAAnC,EAA8C;CAC7C,WAAO,IAAP;CACA,IAFD,MAEO,IACLA,QAAQ,EAAR,IAAqBA,QAAQ,EAA9B,IACCA,QAAQ,EAAR,IAAqBA,QAAQ,GAFxB,EAEqC;CAC3C,OAAIF,MAAM,CAAN,IAAWD,KAAKI,UAAL,CAAgB,CAAhB,MAAuB,EAAtC,EAAiD;CAChDD,YAAOH,KAAKI,UAAL,CAAgB,CAAhB,CAAP;CACA,SAAID,SAAS,EAAT,IAAsBA,SAAS,EAAnC,EAA8C;CAC7C,cAAO,IAAP;CACA;CACD;CACD;CACD;CACD,QAAO,KAAP;CACA;;AC1CD,UAAetC,SAASwC,aAAT,CAAuB,GAAvB,CAAf;;CCGe,SAASC,SAAT,CAAmBC,IAAnB,EAAyBC,aAAzB,EAAwC;CACtD,KAAIT,WAAWtC,OAAO+C,aAAP,EAAsBD,IAAjC,CAAJ,EAA4C;CAC3CA,SAAUC,cAAcD,IAAxB,SAAgCA,IAAhC;CACA;CACD,KAAI1C,SAAS4C,YAAb,EAA2B;CAC1BC,KAAGC,YAAH,CAAgB,MAAhB,EAAwBJ,IAAxB;CACA,SAAOG,GAAGH,IAAV;CACA;CACD,QAAOA,IAAP;CACA;;ACND,KAAMK,gBAAgB,EAAEC,MAAM,EAAR,EAAYC,OAAO,GAAnB,EAAwBC,KAAK,EAA7B,EAAiCC,QAAQ,EAAzC,EAAtB;;AAEA,CAAe,SAASpC,KAAT,CAAe2B,IAAf,EAAqBC,aAArB,EAAkE;CAAA,KAA9BS,YAA8B,uEAAfL,aAAe;;CAChF,KAAMM,OAAO,EAAb;CACA,KAAIxB,GAAG,UAAH,EAAea,IAAf,CAAJ,EAA0B;CACzBA,SAAOA,KAAKC,aAAL,EAAoBS,YAApB,CAAP;CACA;CACD,KAAIvB,GAAG,KAAH,EAAUa,IAAV,KAAmBA,KAAKA,IAA5B,EAAkC;CACjC,SAAO3B,MAAM2B,KAAKA,IAAX,CAAP;CACA;CACD,KAAI,CAACb,GAAG,QAAH,EAAaa,IAAb,CAAL,EAAyB;CACxB,MAAMY,OAAOtD,SAASuD,oBAAT,CAA8B,MAA9B,EAAsC,CAAtC,CAAb;CACAb,SAAQY,QAAQA,KAAKE,YAAL,CAAkB,MAAlB,CAAT,IAAuC/C,OAAOgD,QAAP,CAAgBf,IAA9D;CACA;CACDG,IAAGC,YAAH,CAAgB,MAAhB,EAAwBL,UAAUC,IAAV,EAAgBC,aAAhB,CAAxB;CACAU,MAAKK,QAAL,GAAgBb,GAAGa,QAAH,CAAYC,MAAZ,CAAmB,CAAnB,MAA0B,GAA1B,GAAgCd,GAAGa,QAAnC,SAAkDb,GAAGa,QAArE;CACAL,MAAKO,QAAL,GAAgBf,GAAGe,QAAH,GAAcf,GAAGe,QAAH,CAAY9C,OAAZ,CAAoB,IAApB,EAA0B,EAA1B,CAAd,GAA8C,EAA9D;CACAuC,MAAKQ,MAAL,GAAchB,GAAGgB,MAAH,GAAYhB,GAAGgB,MAAH,CAAU/C,OAAV,CAAkB,KAAlB,EAAyB,EAAzB,CAAZ,GAA2C,EAAzD;CACAuC,MAAKlC,YAAL,GAAoB2C,QAAWT,KAAKQ,MAAhB,CAApB;CACAR,MAAKU,IAAL,GAAYlB,GAAGkB,IAAH,GAAUlB,GAAGkB,IAAH,CAAQjD,OAAR,CAAgB,MAAhB,EAAwB,EAAxB,CAAV,GAAwC,EAApD;CACAuC,MAAKW,IAAL,GAAYtC,MAAMmB,GAAGmB,IAAT,KAAkBZ,aAAaC,KAAKO,QAAlB,CAAlB,IAAiD,IAA7D;CACAP,MAAKY,QAAL,GAAgBpB,GAAGoB,QAAH,IAAeC,SAA/B;CACAb,MAAKc,QAAL,GAAgBtB,GAAGsB,QAAH,IAAeD,SAA/B;CACAb,MAAKe,QAAL,GAAgBvB,GAAGuB,QAAnB;CACAf,MAAKgB,MAAL,GAAcxB,GAAGwB,MAAjB;CACAhB,MAAKiB,IAAL,GAAYzB,GAAGyB,IAAf;CACAjB,MAAKX,IAAL,GAAYG,GAAGH,IAAf;CACA,QAAOW,IAAP;CACA;;AC7BM,KAAMkB,kBAAkB,YAAxB;AACP,AAAO,KAAMC,wBAAsBD,eAA5B;AACP,AAAO,KAAME,gBAAgB,UAAtB;AACP,AAAO,KAAMC,sBAAoBD,aAA1B;AACP,AAAO,KAAME,oBAAoB,cAA1B;AACP,AAAO,KAAMC,mBAAmB,aAAzB;AACP,AAAO,KAAMC,iBAAiB,WAAvB;;AASP,KAAMC,KAAKrE,OAAOsE,SAAP,CAAiBC,SAA5B;;AASA,AAAO,KAAMC,SAASxE,OAAOyE,OAAtB;;AAaP,AAAO,KAAMC,eAAe,eAAevF,OAAOqF,MAAP,CAAf,IAC3B,CAAC,yCAAyClD,IAAzC,CAA8C+C,EAA9C,CAD0B,IAE3B,0BAA0B/C,IAA1B,CAA+B+C,EAA/B,CAFM;;CAYP,SAASM,eAAT,CAAyBC,GAAzB,EAA8BC,GAA9B,EAAmC;CAClCA,MAAIC,MAAUF,GAAV,CAAJ;CACA;;AASD,CAAO,SAASG,SAAT,CAAmBC,KAAnB,EAA0BC,KAA1B,EAAiCL,GAAjC,EAAsC;CAC5C,SAAOD,gBAAgBC,GAAhB,EAAqB,YAAM;CACjCJ,WAAOO,SAAP,CAAiBC,KAAjB,EAAwBC,KAAxB,EAA+BL,GAA/B;CACAM,iBAAA,CAAyBlF,MAAzB,EAAiCoE,cAAjC,EAAiD,EAAEY,YAAF,EAASC,YAAT,EAAgBL,QAAhB,EAAjD;CACAM,iBAAA,CAAyBlF,MAAzB,EAAiCmE,gBAAjC,EAAmD,EAAEa,YAAF,EAASC,YAAT,EAAgBL,QAAhB,EAAnD;CACA,GAJM,CAAP;CAKA;;AASD,CAAO,SAASO,YAAT,CAAsBH,KAAtB,EAA6BC,KAA7B,EAAoCL,GAApC,EAAyC;CAC/C,SAAOD,gBAAgBC,GAAhB,EAAqB,YAAM;CACjCJ,WAAOW,YAAP,CAAoBH,KAApB,EAA2BC,KAA3B,EAAkCL,GAAlC;CACAM,iBAAA,CAAyBlF,MAAzB,EAAiCkE,iBAAjC,EAAoD,EAAEc,YAAF,EAASC,YAAT,EAAgBL,QAAhB,EAApD;CACAM,iBAAA,CAAyBlF,MAAzB,EAAiCmE,gBAAjC,EAAmD,EAAEa,YAAF,EAASC,YAAT,EAAgBL,QAAhB,EAAnD;CACA,GAJM,CAAP;CAKA;;AASD,CAAO,SAASQ,EAAT,CAAYC,MAAZ,EAAoB;CAC1B,SAAOb,OAAOY,EAAP,CAAUC,MAAV,CAAP;CACA;;AASD,CAAO,SAASC,OAAT,GAAmB;CACzB,SAAOd,OAAOc,OAAP,EAAP;CACA;;AASD,CAAO,SAASC,IAAT,GAAgB;CACtB,SAAOf,OAAOe,IAAP,EAAP;CACA;;AASD,CAAO,SAAS3D,MAAT,GAAkB;CACxB,SAAOX,MAAMuD,OAAO5C,MAAb,CAAP;CACA;;AASD,CAAO,SAAS4D,MAAT,GAAkB;CACxB,MAAM5C,OAAO,EAAb;CACA,MAAI;CACH,WAAO4B,OAAOQ,KAAP,IAAgBpC,IAAvB;CACA,GAFD,CAEE,OAAO6C,GAAP,EAAY;CAAE,WAAO7C,IAAP;CAAc;CAC9B;;AASD,CAAO,SAAS8C,MAAT,CAAgBC,GAAhB,EAAqB;CAC3B,MAAIvE,GAAG,UAAH,EAAeuE,GAAf,CAAJ,EAAyB;CACxBA,UAAMA,IAAIpG,SAAS0F,KAAb,CAAN;CACA;CACD,MAAI7D,GAAG,QAAH,EAAauE,GAAb,CAAJ,EAAuB;CACtBpG,aAAS0F,KAAT,GAAiBU,GAAjB;CACA;CACD,SAAOpG,SAAS0F,KAAhB;CACA;;AASD,CAAO,SAASjC,QAAT,CAAkB2C,GAAlB,EAAuB;CAC7B,MAAIA,GAAJ,EAAS,OAAOb,MAAUa,GAAV,CAAP;CACT,SAAOb,MAAU9E,OAAOgD,QAAP,CAAgBf,IAA1B,CAAP;CACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;"}